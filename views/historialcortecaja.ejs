<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Ventas</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/stylesheets/bootstrap.css">
    <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>

    <nav class="navbar navbar-expand-lg bg-warning">
        <div class="container-fluid">
            <!-- Logo -->
            <a class="navbar-brand" href="#">
                <img src="https://images.rappi.com.mx/restaurants_logo/logo-1697308077363.png" alt="Logo" width="50">
            </a>

            <!-- Bot√≥n colapsable (para m√≥viles) -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Contenido del navbar -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <!-- T√≠tulo centrado -->
                <div class="w-100 d-flex justify-content-center">
                    <h3 class="m-0">Sistema de Ventas</h3>
                </div>
                <!-- Usuario y logout -->
                <div class="d-flex align-items-center">
                    <p class="m-1">Usuario: UsuarioX</p>
                    <img src="https://cdn.icon-icons.com/icons2/2248/PNG/512/logout_variant_icon_136438.png"
                        width="50px">
                </div>
            </div>
        </div>
    </nav>

    <main class="container py-4">
        <!-- Bot√≥n Iniciar/Cerrar jornada -->
        <div class="mb-4">
            <button id="btnJornada" class="btn btn-dark">Iniciar / Cerrar jornada</button>
        </div>

        <!-- Filtros de fecha -->
        <div class="mb-3 row">
            <label for="fechaInicio" class="col-sm-2 col-form-label">Fecha Inicio:</label>
            <div class="col-sm-3">
                <input type="date" class="form-control" id="fechaInicio">
            </div>
            <label for="fechaFin" class="col-sm-2 col-form-label">Fecha Fin:</label>
            <div class="col-sm-3">
                <input type="date" class="form-control" id="fechaFin">
            </div>
            <div class="col-sm-2">
                <button id="btnFiltrar" class="btn btn-dark">üîç</button>
            </div>
        </div>

        <!-- Tabla -->
        <div class="table-responsive">
            <table class="table table-bordered table-striped" id="tablaVentas">
                <thead class="table-dark text-center">
                    <tr>
                        <th>Fecha Registro</th>
                        <th>Efectivo Esperado</th>
                        <th>Tipo de Corte de Caja</th>
                        <th>Usuario Registro</th>
                        <th>Efectivo en la Caja</th>
                        <th>Diferencia</th>
                    </tr>
                </thead>
                <tbody class="text-center">
                    <tr>
                        <td>20/08/2024</td>
                        <td>$2000.00</td>
                        <td>Apertura</td>
                        <td>Pedro</td>
                        <td>$2000.00</td>
                        <td>$0.00</td>
                    </tr>
                    <tr>
                        <td>20/08/2024</td>
                        <td>$2350.00</td>
                        <td>Cierre</td>
                        <td>Pedro</td>
                        <td>$2320.00</td>
                        <td>-$30.00</td>
                    </tr>
                    <tr>
                        <td>21/08/2024</td>
                        <td>$2000.00</td>
                        <td>Apertura</td>
                        <td>Pedro</td>
                        <td>$2000.00</td>
                        <td>$0.00</td>
                    </tr>
                    <tr>
                        <td>21/08/2024</td>
                        <td>$2590.00</td>
                        <td>Cierre</td>
                        <td>Pedro</td>
                        <td>$2490.00</td>
                        <td>-$100.00</td>
                    </tr>
                    <tr>
                        <td>22/08/2024</td>
                        <td>$2000.00</td>
                        <td>Apertura</td>
                        <td>Pedro</td>
                        <td>$2000.00</td>
                        <td>$0.00</td>
                    </tr>
                    <tr>
                        <td>22/08/2024</td>
                        <td>$2140.00</td>
                        <td>Cierre</td>
                        <td>Pedro</td>
                        <td>$2170.00</td>
                        <td>$30.00</td>
                    </tr>
                    <tr>
                        <td>23/08/2024</td>
                        <td>$2000.00</td>
                        <td>Apertura</td>
                        <td>Pedro</td>
                        <td>$2000.00</td>
                        <td>$0.00</td>
                    </tr>
                    <tr>
                        <td>23/08/2024</td>
                        <td>$2320.00</td>
                        <td>Cierre</td>
                        <td>Pedro</td>
                        <td>$2320.00</td>
                        <td>$0.00</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.getElementById('btnFiltrar').addEventListener('click', function () {
            const fechaInicio = document.getElementById('fechaInicio').value;
            const fechaFin = document.getElementById('fechaFin').value;

            const rows = document.querySelectorAll('#tablaVentas tbody tr');
            rows.forEach(row => {
                const fechaRegistro = row.cells[0].innerText;

                // Convertir la fecha de la tabla de formato DD/MM/YY a YYYY-MM-DD
                const [dia, mes, anio] = fechaRegistro.split('/');
                const fechaFormateada = `${anio}-` + (mes.padStart(2, '0')) + `-${dia.padStart(2, '0')}`;

                // Comparar las fechas
                if (fechaInicio && fechaFin) {
                    if (fechaFormateada >= fechaInicio && fechaFormateada <= fechaFin) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                } else {
                    row.style.display = '';
                }
            });
        });

        document.getElementById('btnJornada').addEventListener('click', function () {
            const btn = this;
            if (btn.innerText.includes('Iniciar')) {
                btn.innerText = 'Cerrar jornada';
                btn.classList.remove('btn-dark');
                btn.classList.add('btn-danger');
            } else {
                btn.innerText = 'Iniciar jornada';
                btn.classList.remove('btn-danger');
                btn.classList.add('btn-dark');
            }
        });
    </script>

</body>

</html>